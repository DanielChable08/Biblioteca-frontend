
<form [formGroup]="ejemplarForm" (ngSubmit)="onSubmit()" class="form-container">
  <div class="field">
    <label for="ubicacion">Ubicación</label>
    <input id="ubicacion" pInputText formControlName="ubicacion" placeholder="Ej: Estante A-3" />
  </div>
  <div class="field">
    <label for="condicion">Condición Física *</label>
    <div class="p-inputgroup">
      <p-select
        id="condicion"
        [options]="condiciones"
        formControlName="idCondicionFisicaEjemplar"
        optionLabel="nombre"
        optionValue="id"
        placeholder="Selecciona una condición"
      ></p-select>
      <button type="button" pButton icon="pi pi-plus" class="p-button-wine" (click)="abrirModalAgregar('condicion')"></button>
    </div>
  </div>
  <div class="field">
    <label for="estado">Estado Inicial *</label>
    <div class="p-inputgroup">
      <p-select
        id="estado"
        [options]="estados"
        formControlName="idEstadoEjemplar"
        optionLabel="nombre"
        optionValue="id"
        placeholder="Selecciona un estado"
      ></p-select>
      <button type="button" pButton icon="pi pi-plus" class="p-button-wine" (click)="abrirModalAgregar('estado')"></button>
    </div>
  </div>
  <div class="form-footer">
    <button type="button" pButton icon="pi pi-times-circle" class="p-button-wine" (click)="cancelar()">Cancelar</button>
    <button type="submit" pButton icon="pi pi-check" class="p-button-wine" [loading]="isSubmitting">Guardar</button>
  </div>
</form>

<p-dialog [(visible)]="displayCatalogoDialog" [modal]="true" [style]="{width: '600px'}">
  <form [formGroup]="catalogoForm" (ngSubmit)="guardarNuevoCatalogo()" class="form-container">
    <div class="field">
      <label for="nuevoNombre"> Agregar Nueva {{ catalogoSiendoAgregado === 'condicion' ? 'Condición' : 'Estado' }}</label>
      <input id="nuevoNombre" pInputText formControlName="nombre" autofocus>
    </div>
    <div class="form-footer">
      <button type="button" pButton icon="pi pi-times-circle" class="p-button-wine" (click)="displayCatalogoDialog=false">Cancelar</button>
      <button type="submit" pButton icon="pi pi-check" class="p-button-wine">Guardar</button>
    </div>
  </form>
</p-dialog>
